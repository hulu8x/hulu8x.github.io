<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Liên Hệ - CLB Cầu Lông Nhơn Phú</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="icon" type="image/png" sizes="48x48" href="/images/favicon-48x48.png">
    <link rel="icon" type="image/png" sizes="96x96" href="/images/favicon-96x96.png">
    <link rel="icon" type="image/png" href="/images/favicon.png">
    <style>
        /* Custom base styles (Minimal) */
        body {
            font-family: 'Inter', sans-serif;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }
        /* Ensure icons are sized correctly */
        .icon {
            width: 1.1em; /* Adjust size as needed */
            height: 1.1em;
            display: inline-block;
            vertical-align: -0.125em;
            margin-right: 0.35rem;
            flex-shrink: 0;
        }
        .info-icon-wrapper .icon {
             width: 1.25rem; /* 20px */
             height: 1.25rem;
        }
        /* Style for the back-to-top button transition */
        #backToTop {
            transition: opacity 0.3s ease-in-out, visibility 0.3s ease-in-out, transform 0.3s ease-in-out;
        }
    </style>
</head>
<body class="bg-gray-100 text-gray-800">

    <div id="header-placeholder"></div>

    <section class="page-header bg-gradient-to-r from-teal-500 to-cyan-600 text-white py-16 md:py-24 text-center shadow-md">
        <div class="container mx-auto px-4">
            <h1 class="text-3xl md:text-4xl font-bold mb-4">Liên Hệ Với Chúng Tôi</h1>
            <p class="text-lg md:text-xl font-light max-w-3xl mx-auto">
                CLB Cầu lông Nhơn Phú luôn sẵn lòng lắng nghe ý kiến đóng góp và giải đáp mọi thắc mắc của bạn về việc thuê sân, học cầu lông, hoặc tham gia các hoạt động tại Quy Nhơn. Đừng ngần ngại liên hệ qua thông tin dưới đây hoặc gửi tin nhắn trực tiếp qua form.
            </p>
        </div>
    </section>

    <div class="container mx-auto px-4 py-12 md:py-16">
        <div class="grid grid-cols-1 md:grid-cols-2 gap-8 lg:gap-12">

            <div class="contact-info bg-white p-6 md:p-8 rounded-lg shadow-md border border-gray-200">
                <h2 class="text-2xl font-semibold text-blue-600 mb-6 relative pb-2 after:content-[''] after:absolute after:left-0 after:bottom-0 after:w-12 after:h-0.5 after:bg-orange-400">
                    Thông Tin Liên Hệ
                </h2>

                <div class="space-y-5 text-sm">
                    <div class="info-item flex items-start gap-4">
                        <div class="info-icon-wrapper mt-1 flex-shrink-0 w-8 h-8 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon lucide lucide-building-2"><path d="M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18"/><path d="M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2"/><path d="M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2"/><path d="M10 6h4"/><path d="M10 10h4"/><path d="M10 14h4"/><path d="M10 18h4"/></svg>
                        </div>
                        <div class="info-content">
                            <h4 class="font-medium text-gray-800">Tên Câu lạc bộ</h4>
                            <p class="text-gray-600">Câu lạc bộ Cầu lông Nhơn Phú</p>
                        </div>
                    </div>

                    <div class="info-item flex items-start gap-4">
                         <div class="info-icon-wrapper mt-1 flex-shrink-0 w-8 h-8 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon lucide lucide-map-pin"><path d="M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z"/><circle cx="12" cy="10" r="3"/></svg>
                        </div>
                        <div class="info-content">
                            <h4 class="font-medium text-gray-800">Địa chỉ</h4>
                            <p class="text-gray-600">Sân Cầu lông Viện Sốt rét - KST - CT Quy Nhơn, KV8, P. Nhơn Phú, TP. Quy Nhơn, Bình Định.</p>
                        </div>
                    </div>

                    <div class="info-item flex items-start gap-4">
                         <div class="info-icon-wrapper mt-1 flex-shrink-0 w-8 h-8 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon lucide lucide-phone"><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"/></svg>
                        </div>
                        <div class="info-content">
                            <h4 class="font-medium text-gray-800">Hotline Hỗ Trợ</h4>
                            <p><a href="tel:0935185558" class="text-gray-600 hover:text-blue-600 hover:underline">0935.185.558</a> (HLV Hoàng)</p>
                             <p><a href="tel:0988809890" class="text-gray-600 hover:text-blue-600 hover:underline">0988.809.890</a> (HLV Biền)</p>
                        </div>
                    </div>

                    <div class="info-item flex items-start gap-4">
                         <div class="info-icon-wrapper mt-1 flex-shrink-0 w-8 h-8 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon lucide lucide-mail"><rect width="20" height="16" x="2" y="4" rx="2"/><path d="m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"/></svg>
                        </div>
                        <div class="info-content">
                            <h4 class="font-medium text-gray-800">Email</h4>
                            <p><a href="mailto:clbnhonphu@gmail.com" class="text-gray-600 hover:text-blue-600 hover:underline">clbnhonphu@gmail.com</a></p>
                        </div>
                    </div>

                    <div class="info-item flex items-start gap-4">
                        <div class="info-icon-wrapper mt-1 flex-shrink-0 w-8 h-8 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon lucide lucide-facebook"><path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"/></svg>
                        </div>
                        <div class="info-content">
                            <h4 class="font-medium text-gray-800">Fanpage Facebook</h4>
                            <p><a href="https://www.facebook.com/NHONPHUBADMINTONCLUB/" target="_blank" rel="noopener noreferrer" class="text-blue-600 hover:underline">CLB Cầu Lông Nhơn Phú</a></p>
                        </div>
                    </div>

                    <div class="info-item flex items-start gap-4">
                         <div class="info-icon-wrapper mt-1 flex-shrink-0 w-8 h-8 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon lucide lucide-clock"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>
                        </div>
                        <div class="info-content">
                            <h4 class="font-medium text-gray-800">Giờ Hoạt Động Sân</h4>
                            <p class="text-gray-600">Sáng: 5:00 - 7:00<br>Chiều: 17:00 - 21:00 (Hàng ngày)</p>
                        </div>
                    </div>
                </div>

                <div class="map-container mt-8 h-64 md:h-80 rounded-lg overflow-hidden shadow-inner border border-gray-200">
                    <iframe
                        src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d4853.751669972138!2d109.17811037598597!3d13.783179586611972!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x316f1300733e69f9%3A0x92543a16cc942d7f!2zU8OibiBD4bqndSBsw7RuZyBWaeG7h24gU-G7kXQgcsOpdC1LU1QtQ1QgUXV5IE5oxqFu!5e1!3m2!1svi!2s!4v1744161027814!5m2!1svi!2s" width="600" height="450" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade">"
                        width="100%"
                        height="100%"
                        style="border:0;"
                        allowfullscreen=""
                        loading="lazy"
                        referrerpolicy="no-referrer-when-downgrade">
                    </iframe>
                </div>
            </div>

            <div class="contact-form bg-white p-6 md:p-8 rounded-lg shadow-md border border-gray-200">
                 <h2 class="text-2xl font-semibold text-blue-600 mb-6 relative pb-2 after:content-[''] after:absolute after:left-0 after:bottom-0 after:w-12 after:h-0.5 after:bg-orange-400">
                    Gửi Tin Nhắn Cho Chúng Tôi
                </h2>

                <form id="contactForm" class="space-y-5"> <div class="form-group">
                        <label for="name" class="block text-sm font-medium text-gray-700 mb-1">Họ và tên*</label>
                        <input type="text" id="name" name="name" placeholder="Nguyễn Văn A" class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 sm:text-sm transition duration-150" required>
                    </div>

                    <div class="grid grid-cols-1 sm:grid-cols-2 gap-5">
                        <div class="form-group">
                            <label for="email" class="block text-sm font-medium text-gray-700 mb-1">Email*</label>
                            <input type="email" id="email" name="email" placeholder="email@example.com" class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 sm:text-sm transition duration-150" required>
                        </div>
                        <div class="form-group">
                            <label for="phone" class="block text-sm font-medium text-gray-700 mb-1">Số điện thoại*</label>
                            <input type="tel" id="phone" name="phone" placeholder="Số điện thoại" class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 sm:text-sm transition duration-150" required pattern="[0-9]{10,11}" title="Số điện thoại hợp lệ (10-11 chữ số)">
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="subject" class="block text-sm font-medium text-gray-700 mb-1">Chủ đề*</label>
                        <input type="text" id="subject" name="subject" placeholder="Ví dụ: Hỏi về lớp học, Góp ý..." class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 sm:text-sm transition duration-150" required>
                    </div>

                    <div class="form-group">
                        <label for="message" class="block text-sm font-medium text-gray-700 mb-1">Nội dung tin nhắn*</label>
                        <textarea id="message" name="message" rows="5" placeholder="Nội dung chi tiết bạn muốn trao đổi..." class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 sm:text-sm transition duration-150 resize-y" required></textarea>
                    </div>

                    <div class="text-left">
                        <button type="submit" class="inline-flex justify-center py-2.5 px-6 border border-transparent shadow-sm text-base font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition duration-150 ease-in-out">
                            Gửi tin nhắn
                        </button>
                    </div>

                    <div id="form-message-success" class="hidden mt-4 p-3 bg-green-100 border border-green-300 text-green-800 rounded-md text-sm">
                        Tin nhắn đã được gửi thành công! Chúng tôi sẽ phản hồi sớm nhất có thể.
                    </div>
                    <div id="form-message-error" class="hidden mt-4 p-3 bg-red-100 border border-red-300 text-red-800 rounded-md text-sm">
                        Vui lòng kiểm tra lại các trường thông tin được đánh dấu.
                    </div>
                </form>
            </div>
        </div>
    </div>

    <div id="footer-placeholder"></div>

    <a href="#" id="backToTop" class="fixed bottom-8 right-8 w-12 h-12 rounded-full bg-blue-600 hover:bg-blue-700 text-white flex items-center justify-center shadow-lg opacity-0 invisible hover:scale-110">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-arrow-up w-6 h-6"><path d="m5 12 7-7 7 7"/><path d="M12 19V5"/></svg>
    </a>

    <script>
        // Function to load HTML content from a file into an element (Robust version)
        async function loadHTML(elementId, filePath) {
            const element = document.getElementById(elementId);
            if (!element) {
                console.error(`Element with ID "${elementId}" not found.`);
                return;
            }
            try {
                const response = await fetch(filePath);
                if (!response.ok) {
                     // Handle 404 specifically - don't show error in placeholder
                    if (response.status === 404) {
                         console.warn(`File not found: ${filePath}. Cannot load content into #${elementId}.`);
                         element.innerHTML = ''; // Clear placeholder content like "Đang tải..."
                         return;
                    }
                    throw new Error(`HTTP error! status: ${response.status}`);
                }
                const html = await response.text();
                element.innerHTML = html;
                console.log(`Successfully loaded ${filePath} into #${elementId}`);
                // Add script execution logic if needed for loaded content (e.g., header scripts)
                // Be careful with security implications
                /*
                Array.from(element.querySelectorAll("script")).forEach( oldScript => {
                    const newScript = document.createElement("script");
                    Array.from(oldScript.attributes)
                       .forEach( attr => newScript.setAttribute(attr.name, attr.value) );
                    newScript.appendChild(document.createTextNode(oldScript.innerHTML));
                    oldScript.parentNode.replaceChild(newScript, oldScript);
                });
                */
            } catch (error) {
                console.error(`Could not load HTML from ${filePath}:`, error);
                 // Show error only if it wasn't a 404 and placeholder exists
                 if (element) {
                    element.innerHTML = `<p class="text-red-500 text-center p-4">Lỗi khi tải ${elementId}.</p>`;
                 }
            }
        }

        // --- Back to Top Button Logic ---
        const backToTopButton = document.getElementById('backToTop');
        if (backToTopButton) {
            window.addEventListener('scroll', function() {
                if (window.pageYOffset > 300) { // Show after scrolling 300px
                    backToTopButton.classList.remove('opacity-0', 'invisible');
                    backToTopButton.classList.add('opacity-100', 'visible');
                } else {
                    backToTopButton.classList.remove('opacity-100', 'visible');
                    backToTopButton.classList.add('opacity-0', 'invisible');
                }
            });

            backToTopButton.addEventListener('click', function(e) {
                e.preventDefault();
                window.scrollTo({ top: 0, behavior: 'smooth' });
            });
        }

        // --- Contact Form Validation & Handling ---
        const contactForm = document.getElementById('contactForm');
        const successMessage = document.getElementById('form-message-success');
        const errorMessage = document.getElementById('form-message-error');

        if (contactForm) {
            contactForm.addEventListener('submit', async function(event) {
                event.preventDefault(); // Stop default submission

                let isValid = true;
                const requiredFields = contactForm.querySelectorAll('[required]');
                const emailInput = contactForm.querySelector('#email');
                const phoneInput = contactForm.querySelector('#phone');

                // Clear previous messages and error styles
                successMessage.classList.add('hidden');
                errorMessage.classList.add('hidden');
                contactForm.querySelectorAll('.border-red-500').forEach(el => el.classList.remove('border-red-500'));

                // Validate required fields
                requiredFields.forEach(input => {
                    if (!input.value.trim()) {
                        isValid = false;
                        input.classList.add('border-red-500');
                    }
                });

                // Validate email format
                if (emailInput && emailInput.value.trim()) {
                    const emailPattern = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
                    if (!emailPattern.test(emailInput.value.trim())) {
                        isValid = false;
                        emailInput.classList.add('border-red-500');
                    }
                }

                // Validate phone format
                if (phoneInput && phoneInput.value.trim()) {
                    const cleanedPhone = phoneInput.value.replace(/[\s.-]/g, '');
                    const phonePattern = /^0[0-9]{9,10}$/;
                    if (!phonePattern.test(cleanedPhone)) {
                        isValid = false;
                        phoneInput.classList.add('border-red-500');
                    }
                }

                // Show feedback or send data
                if (isValid) {
                    const formData = new FormData(contactForm);

                    try {
                        const response = await fetch('https://script.google.com/macros/s/AKfycbzg86YF-nIoTgile5nNpiIocIiIxQ3o5RouJW2GB57fB--xqoYbzI4ZEsLbLAjo_0myfQ/exec', {
                            method: 'POST',
                            body: formData
                        });

                        if (response.ok) {
                            const data = await response.json();
                            console.log('Success:', data);
                            successMessage.classList.remove('hidden');
                            contactForm.reset(); // Clear the form

                            // Optional: Hide success message after a delay
                            setTimeout(() => {
                                successMessage.classList.add('hidden');
                            }, 5000); // 5 seconds
                        } else {
                            throw new Error('Network response was not ok');
                        }
                    } catch (error) {
                        console.error('Error:', error);
                        errorMessage.textContent = 'Có lỗi xảy ra khi gửi tin nhắn. Vui lòng thử lại.';
                        errorMessage.classList.remove('hidden');
                    }
                } else {
                    errorMessage.textContent = 'Vui lòng kiểm tra lại các trường thông tin được đánh dấu màu đỏ.';
                    errorMessage.classList.remove('hidden');
                    successMessage.classList.add('hidden');
                    const firstInvalid = contactForm.querySelector('.border-red-500');
                    if (firstInvalid) {
                        firstInvalid.focus();
                    }
                }
            });
        }

        // Load header and footer when the page loads
        document.addEventListener('DOMContentLoaded', () => {
            loadHTML('header-placeholder', 'header.html');
            loadHTML('footer-placeholder', 'footer.html');
        });
    </script>

</body>
</html>
